<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;
      charset=ISO-8859-1">
    <title>FRAM device usage: clearing PM5CTL0.LOCKLPM5 bit at start-up</title>
  </head>
  <body>
    <h1> <span class="mw-headline"
        id="FRAM_device_usage:_clearing_PM5CTL0.LOCKLPM5_bit_at_start-up">
        FRAM device usage: clearing PM5CTL0.LOCKLPM5 bit at start-up </span></h1>
    <h2> <span class="mw-headline" id="Typical_message"> Typical
        message </span></h2>
    <p>"For FRAM devices, at start up, the GPIO power-on default
      high-impedance mode needs to be disabled to activate previously
      configured port settings. This can be done by clearing the
      LOCKLPM5 bit in PM5CTL0 register." </p>
    <h2> <span class="mw-headline" id="What_it_means"> What it means </span></h2>
    <p>Upon exit from LPMx.5, all peripheral registers are set to their
      default conditions but the I/O pins remain locked while LOCKLPM5
      remains set. Keeping the I/O pins locked ensures that all pin
      conditions remain stable when entering the active mode, regardless
      of the default I/O register settings. </p>
    <h2> <span class="mw-headline" id="Risks.2C_Severity"> Risks,
        Severity </span></h2>
    <p>If the LOCKLPM5 bit is not cleared, all GPIO pins remain in
      default high-impedance mode and cannot be reverted back to
      previously configured settings. <br>
    </p>
    <h2> <span class="mw-headline" id="Why_it_is_happening"> Why it is
        happening </span></h2>
    <p>The PM5CTL0.LOCKPM5 bit clearing code instruction cannot be
      detected in the project.<br>
    </p>
    <h2> <span class="mw-headline" id="Remedy"> Remedy </span></h2>
    <p>Insert the following line of code at the beginning of the
      project: </p>
    <pre> // Disable the GPIO power-on default high-impedance mode to activate
 // previously configured port settings
 PM5CTL0 &amp;= ~LOCKLPM5;
</pre>
    <h2> <span class="mw-headline" id="Code_Example"> Code Example </span></h2>
    <p>Refer to FRAM device code examples from CCS - TI Resource
      Explorer or as downloadable packages at <a
href="http://www.ti.com/lsds/ti/microcontroller/16-bit_msp430/tools_software.page#code"
        class="external free" rel="nofollow" target="_blank">http://www.ti.com/lsds/ti/microcontroller/16-bit_msp430/tools_software.page#code</a>
    </p>
    <h2> <span class="mw-headline" id="More_Resources"> More Resources
      </span></h2>
    <p>Refer to the MSP430 Family User's Guides for FRAM devices for
      more details. </p>
    <ul>
      <li> <a href="http://www.ti.com/lit/pdf/slau367" class="external
          text" rel="nofollow" target="_blank">www.ti.com/lit/pdf/slau367</a>
        MSP430FR58xx/MSP430FR59xx Family User&#8217;s Guide </li>
      <li> <a href="http://www.ti.com/lit/pdf/slau272" class="external
          text" rel="nofollow" target="_blank">www.ti.com/lit/pdf/slau272</a>
        MSP430FR57xx Family User&#8217;s Guide<br>
      </li>
    </ul>
    <p><br>
      For more questions/answers,<a
href="http://e2e.ti.com/support/microcontrollers/msp43016-bit_ultra-low_power_mcus/f/166.aspx"
        class="external text" rel="nofollow" target="_blank">Go to
        MSP430's e2e online forum!</a>&nbsp; </p>
    <p>If you are posting on the forums in relation to this rule, try
      using the tags "DiagMessage_10420" and "FRAM_GPIO_Usage" </p>
    <table style="text-align:center; background:white; width:100%;
      text-align:left; height: 65px border-top: 1px solid;
      border-bottom: 1px solid; border-left: 1px solid; border-right:
      1px solid; border-width: 1px; border-style: solid;">
      <tbody>
        <tr>
          <td width="305px"><a
              href="http://processors.wiki.ti.com/index.php/File:E2e.jpg"
              class="image"><img alt="E2e.jpg"
                src="http://processors.wiki.ti.com/images/8/82/E2e.jpg"
                height="63" width="305"></a> </td>
          <td><i>For technical support please post your questions at <a
                href="http://e2e.ti.com/" class="external free"
                rel="nofollow" target="_blank">http://e2e.ti.com</a>.
              Please post only comments about the article <b>Compiler/diagnostic

                messages/MSP430/10420</b> here.</i></td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
